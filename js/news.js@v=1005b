$(document).ready( function(){
	initCursor();
});


function initCursor(number,newsurl){
	var target_url="./index.html";
	if(newsurl) target_url=newsurl;

	var units = Number($(".news-entry").attr('id').substr(5));
	console.log("units="+units);
	var start_entry = 67;
	var max_entry = 67;
	$.ajax({
		url: target_url,
		success : function(data){
			var entry_list_length= $("#NewsData section.news-data",data).length;
			if(entry_list_length){
				max_entry = entry_list_length + start_entry - 1;
			}
			//console.log(entry_list_length);
			$('#NewsCsrL').removeClass("off");
			$('#NewsCsrL a').attr('href',"./news-" + (units + 1) + ".html");
			$('#NewsCsrR').removeClass("off");
			$('#NewsCsrR a').attr('href',"./news-" + (units - 1) + ".html");
			if( units == start_entry ){$('#NewsCsrR').addClass("off"); }
			if( units == max_entry ){$('#NewsCsrL').addClass("off"); }
		},
		error: function(data){
			//console.log(data);
			//$("#news-hd").html("<dl><dd>Error. Failed to load data.</dd></dl>");
		}
	});
}